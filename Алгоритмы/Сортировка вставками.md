# Асимптотика
\	O(n²)
# Описание
\	Есть две части: неотсортированная и отсортированная, где каждый элемент больше предыдущего и меньше следующего. Изначально первый элемент является отсортированной частью. Итератор находится в отсортированной части и двигается в сторону не отсортированной. Когда он натыкается на первый элемент, который стоит не на своём месте (он больше чем предыдущий), он опускает его (меняет его местами с соседним элементом и перемещается к нему) до того момента как он окажется межу двумя элементами один больше его другой меньше его.
# Реализация
[[Сортировка вставками c++|c++]]
```c++
template<typename iter_type, typename compare_type>
void insertion_sort(iter_type begin, iter_type end, compare_type comp) {
    using value_type = std::decay_t<decltype(*iter_type())>;

    // Если compare_type - указатель на функцию, ничего не произойдёт
    // Если compare_type - лямбда, она станет указателем на функцию
    // Если compare_type - что-то другое или функция с не правильными входными/выходными данными, будет ошибка
    bool (*_comp)(value_type, value_type) =  comp;

    for (iter_type it = begin; it != end;) {
        if (it == begin || *it > it[-1]) {
            it++;
        } else {
            std::swap(*it, it[-1]);
            it--;
        }
    }
}
```
